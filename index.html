<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="assets/index.css">
    <link rel="icon" type="image/x-icon" href="https://play-lh.googleusercontent.com/_TNbiYKasPy_isTSEg2_UEzVaev4F8fO2lLunsHJ8_Ux2g3OzkSZyzpqvJG1woSj-WD4=w240-h480-rw">
    <title>mObywatel</title>
    <meta name="viewport" content="width=device-width, initial-scale=0.8, user-scalable=no">
    <style>
        .document-switcher {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .doc-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            background: none;
            border: none;
            font-size: 16px;
            color: #0068b5;
        }
        
        .doc-tab.active {
            border-bottom: 3px solid #0068b5;
            font-weight: bold;
        }
        
        .document-content {
            display: none;
        }
        
        .document-content.active {
            display: block;
        }
        
        .go {
            display: inline-block;
            background: #0068b5;
            color: white;
            padding: 12px 24px;
            border-radius: 6px;
            text-decoration: none;
            margin-top: 20px;
            cursor: pointer;
            border: none;
            width: 100%;
            text-align: center;
            font-size: 16px;
        }
        
        .discord {
            margin-top: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
        }
        
        .inner_grid {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .discord_image {
            width: 50px;
            height: 50px;
            border-radius: 5px;
            object-fit: cover;
        }
        
        .discord_text {
            color: #0068b5;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <script>
        if (!sessionStorage.getItem('loggedIn')) {
            window.location.href = 'login.html';
        }
    </script>
    
    <img src="https://cdn.discordapp.com/attachments/1217156005566218362/1355690591866061030/e0491e77-941f-4696-83c1-12c54ae1e7ac.jpg?ex=67e9d8c0&is=67e88740&hm=85021ffd98e09a25f1bb7ee193194b79747cd52d6f5c5a2b7bc51985a8bd4d33&" class="logo">
    <p class="logo_text">mObywatel</p>
    <p class="warning">Dokumenty cyfrowe</p>

    <!-- Przełącznik dokumentów -->
    <div class="document-switcher">
        <button class="doc-tab active" onclick="switchDocument('id')">mDowód</button>
        <button class="doc-tab" onclick="switchDocument('student')">mLegitymacja</button>
        <button class="doc-tab" onclick="switchDocument('driver')">mPrawoJazdy</button>
    </div>

    <!-- Zawartość mDowodu -->
    <div id="id-content" class="document-content active">
        <div class="guide_holder">
            <div class="top_holder">
                <p class="guide_title">Instrukcja</p>
                <img class="arrow" src="https://i.imgur.com/aUZmu0W.png">
            </div>
            <div class="guide_text">
                <span style="font-size: 17px; font-weight: 500;">Dla systemu IOS:</span><br>
                <ul>
                    <li>Upewnij się, że używasz przeglądarki Safari</li>
                    <li>Uzupełnij dane i kliknij wejdź</li>
                    <li>Naciśnij udostępnij -> Do Ekranu głównego</li>
                </ul>
                <span style="font-size: 17px; font-weight: 500;">Dla systemu Android:</span>
                <ul>
                    <li>Upewnij się, że używasz przeglądarki Google lub Chrome</li>
                    <li>Uzupełnij dane i kliknij wejdź</li>
                    <li>Naciśnij 3 kropki -> Dodaj do ekranu głównego</li>
                </ul>
            </div>
        </div>

        <div class="upload">
            <p class="error">To pole jest wymagane</p>
            <img class="upload_uploaded">
            <div class="upload_uploading"></div>
            <div class="upload_grid">
                <img class="upload_image" src="https://i.imgur.com/vwIQErh.png">
                <p class="upload_text">Dodaj zdjęcie</p>
            </div>
        </div>

        <div class="input_holder">
            <input type="text" id="name" class="input" placeholder="">
            <span class="placeholder">Imię (imiona)</span>
            <p class="error">To pole jest wymagane</p>
        </div>
     
        <div class="input_holder">
            <input type="text" id="surname" class="input" placeholder="">
            <span class="placeholder">Nazwisko</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <p class="top_info">Płeć</p>
        <div class="selector_box">
            <div class="selected_grid">
                <p class="selector_text selected_text">Mężczyzna</p>
                <img class="selected_arrow" src="https://i.imgur.com/RXsdBB6.png">
            </div>
            <div class="option_box">
                <div class="selector_option" id="m">
                    Mężczyzna
                </div>
                <div class="selector_option" id="k">
                    Kobieta
                </div>
                <div class="selector_option" id="k">
                    Inna opcja
                </div>
            </div>
        </div>

        <div class="date">
            <p class="top_info">Data urodzenia</p>
            <div class="date_grid">
                <input class="date_input" placeholder="DD" type="number">
                <input class="date_input" placeholder="MM" type="number">
                <input class="date_input" placeholder="YYYY" type="number">
            </div>
            <p class="error">Wprowadź prawidłową datę</p>
        </div>

        <div class="input_holder">
            <input type="text" id="nationality" class="input" placeholder="">
            <span class="placeholder">Obywatelstwo</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="familyName" class="input" placeholder="">
            <span class="placeholder">Nazwisko rodowe</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="fathersFamilyName" class="input" placeholder="">
            <span class="placeholder">Nazwisko rodowe ojca</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="mothersFamilyName" class="input" placeholder="">
            <span class="placeholder">Nazwisko rodowe matki</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <p class="subtext">Miejsce zamieszkania</p>

        <div class="input_holder">
            <input type="text" id="birthPlace" class="input" placeholder="">
            <span class="placeholder">Miejsce urodzenia</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="countryOfBirth" class="input" placeholder="">
            <span class="placeholder">Kraj urodzenia</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="adress1" class="input" placeholder="">
            <span class="placeholder">Ulica i numer domu</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="adress2" class="input" placeholder="">
            <span class="placeholder">Kod pocztowy</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="city" class="input" placeholder="">
            <span class="placeholder">Miasto</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <button class="go" onclick="saveDocument('id')">Zapisz mDowód</button>
    </div>

    <!-- Zawartość mLegitymacji -->
    <div id="student-content" class="document-content">
        <div class="upload">
            <p class="error">To pole jest wymagane</p>
            <img class="upload_uploaded">
            <div class="upload_uploading"></div>
            <div class="upload_grid">
                <img class="upload_image" src="https://i.imgur.com/vwIQErh.png">
                <p class="upload_text">Dodaj zdjęcie</p>
            </div>
        </div>

        <div class="input_holder">
            <input type="text" id="student-name" class="input" placeholder="">
            <span class="placeholder">Imię i nazwisko</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="student-university" class="input" placeholder="">
            <span class="placeholder">Uczelnia</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="student-album" class="input" placeholder="">
            <span class="placeholder">Numer albumu</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="student-id" class="input" placeholder="">
            <span class="placeholder">Numer legitymacji</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="date">
            <p class="top_info">Ważna do</p>
            <div class="date_grid">
                <input class="date_input" placeholder="DD" type="number">
                <input class="date_input" placeholder="MM" type="number">
                <input class="date_input" placeholder="YYYY" type="number">
            </div>
            <p class="error">Wprowadź prawidłową datę</p>
        </div>

        <button class="go" onclick="saveDocument('student')">Zapisz mLegitymację</button>
    </div>

    <!-- Zawartość mPrawaJazdy -->
    <div id="driver-content" class="document-content">
        <div class="upload">
            <p class="error">To pole jest wymagane</p>
            <img class="upload_uploaded">
            <div class="upload_uploading"></div>
            <div class="upload_grid">
                <img class="upload_image" src="https://i.imgur.com/vwIQErh.png">
                <p class="upload_text">Dodaj zdjęcie</p>
            </div>
        </div>

        <div class="input_holder">
            <input type="text" id="driver-name" class="input" placeholder="">
            <span class="placeholder">Imię i nazwisko</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="driver-number" class="input" placeholder="">
            <span class="placeholder">Numer prawa jazdy</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="input_holder">
            <input type="text" id="driver-pesel" class="input" placeholder="">
            <span class="placeholder">PESEL</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <div class="date">
            <p class="top_info">Ważne do</p>
            <div class="date_grid">
                <input class="date_input" placeholder="DD" type="number">
                <input class="date_input" placeholder="MM" type="number">
                <input class="date_input" placeholder="YYYY" type="number">
            </div>
            <p class="error">Wprowadź prawidłową datę</p>
        </div>

        <div class="input_holder">
            <input type="text" id="driver-categories" class="input" placeholder="">
            <span class="placeholder">Kategorie (np. B, B1, AM)</span>
            <p class="error">To pole jest wymagane</p>
        </div>

        <button class="go" onclick="saveDocument('driver')">Zapisz mPrawoJazdy</button>
    </div>

    <div class="discord" onclick="window.open('https://example.com')">
        <div class="inner_grid">
            <img class="discord_image" src="https://via.placeholder.com/50">
            <p class="discord_text">Przykładowy link</p>
        </div>
    </div>

    <script>
        // Funkcja przełączania dokumentów
        function switchDocument(type) {
            // Zmień aktywną zakładkę
            document.querySelectorAll('.doc-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Zmień aktywną zawartość
            document.querySelectorAll('.document-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`${type}-content`).classList.add('active');
            
            // Załaduj zapisane dane jeśli istnieją
            loadDocumentData(type);
        }
        
        // Ładowanie zapisanych danych
        function loadDocumentData(type) {
            const docName = type === 'id' ? 'mDowod' : 
                          type === 'student' ? 'mLegitymacja' : 'mPrawoJazdy';
            const savedData = localStorage.getItem(docName);
            
            if (savedData) {
                const data = JSON.parse(savedData);
                for (const field in data) {
                    const input = document.querySelector(`#${type}-content #${field}`);
                    if (input) input.value = data[field];
                }
            }
        }
        
        // Funkcja zapisywania dokumentów
        function saveDocument(type) {
            const inputs = document.querySelectorAll(`#${type}-content input`);
            const data = {};
            
            inputs.forEach(input => {
                if (input.type !== 'file') {
                    data[input.id] = input.value;
                }
            });
            
            const docName = type === 'id' ? 'mDowod' : 
                          type === 'student' ? 'mLegitymacja' : 'mPrawoJazdy';
            
            localStorage.setItem(docName, JSON.stringify(data));
            alert(`Dokument ${docName} został zapisany!`);
        }
        
        // Obsługa selektora płci
        document.querySelectorAll('.selector_option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelector('.selected_text').textContent = this.textContent;
                document.querySelector('.option_box').style.display = 'none';
            });
        });
        
        document.querySelector('.selected_grid').addEventListener('click', function() {
            document.querySelector('.option_box').style.display = 
                document.querySelector('.option_box').style.display === 'block' ? 'none' : 'block';
        });
        
        // Obsługa uploadu zdjęć
        document.querySelectorAll('input[type="file"]').forEach(input => {
            input.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const img = input.closest('.upload').querySelector('.upload_uploaded');
                        img.src = event.target.result;
                        img.style.display = 'block';
                    }
                    reader.readAsDataURL(file);
                }
            });
        });
        
        // Załaduj dane mDowodu na starcie
        document.addEventListener('DOMContentLoaded', function() {
            loadDocumentData('id');
        });
    </script>
</body>
</html>
